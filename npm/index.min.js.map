{"version":3,"file":"index.min.js","sources":["../src/vanic/diff.js","../src/vanic/index.js"],"sourcesContent":["// CREDIT & ORIGINAL: https://gomakethings.com/dom-diffing-with-vanilla-js\n// Add diff attribute\nconst isVanicAttr = (a) => a[0] === 'c' && a[1] === '-';\nfunction isNotMatch(node, dom) {\n  return (\n    node.nodeType !== dom.nodeType ||\n    node.tagName !== dom.tagName ||\n    node.id !== dom.id ||\n    node.src !== dom.src ||\n    getAttr(node, 'c-f') !== getAttr(dom, 'c-f')\n  );\n}\nfunction getAttr(node, attr) {\n  if (!node.getAttribute) return '';\n  return node.getAttribute(attr);\n}\nfunction getNodeContent(node, attr) {\n  if (attr) {\n    if (attr === 'href' || attr === 'van-link' || isVanicAttr(attr))\n      return getAttr(node, attr);\n    if (typeof node[attr] !== 'string') return getAttr(node, attr);\n    return node[attr];\n  }\n  if (node.childNodes && node.childNodes.length > 0) return null;\n  return node.textContent;\n}\nexport function diff(template, elem) {\n  const domNodes = Array.prototype.slice.call(elem.childNodes);\n  const templateNodes = Array.prototype.slice.call(template.childNodes);\n  let count = domNodes.length - templateNodes.length;\n  if (count > 0) {\n    for (; count > 0; count--) {\n      domNodes[domNodes.length - count].parentNode.removeChild(\n        domNodes[domNodes.length - count]\n      );\n    }\n  }\n  templateNodes.forEach(function (node, index) {\n    if (!domNodes[index]) {\n      elem.appendChild(node.cloneNode(true));\n      return;\n    }\n\n    if (node.attributes && node.attributes.length) {\n      let i = 0;\n      const len = node.attributes.length;\n      while (i < len) {\n        const attr = node.attributes[i];\n        if (attr.name) {\n          const tpl = getNodeContent(node, attr.name) || '';\n          const tplDom = getNodeContent(domNodes[index], attr.name) || '';\n          if (tpl !== tplDom) {\n            let nm = attr.name;\n            if (isVanicAttr(nm)) {\n              domNodes[index].setAttribute(nm, tpl);\n            } else {\n              if (nm === 'class') nm = 'className';\n              else if (nm === 'for') nm = 'htmlFor';\n              domNodes[index][nm] = tpl;\n            }\n          }\n        }\n        i++;\n      }\n    }\n    if (isNotMatch(node, domNodes[index])) {\n      domNodes[index].parentNode.replaceChild(\n        node.cloneNode(true),\n        domNodes[index]\n      );\n      return;\n    }\n    const templateContent = getNodeContent(node);\n    if (\n      templateContent &&\n      templateContent !== getNodeContent(domNodes[index])\n    ) {\n      domNodes[index].textContent = templateContent;\n    }\n    if (domNodes[index].childNodes.length > 0 && node.childNodes.length < 1) {\n      domNodes[index].innerHTML = '';\n      return;\n    }\n    if (domNodes[index].childNodes.length < 1 && node.childNodes.length > 0) {\n      const fragment = document.createDocumentFragment();\n      diff(node, fragment);\n      domNodes[index].appendChild(fragment);\n      return;\n    }\n    if (node.childNodes.length > 0) {\n      diff(node, domNodes[index]);\n    }\n  });\n}\n","import { diff } from './diff.js';\n\nlet reRender;\nlet reElem;\nlet fno = [];\nlet rep = {};\nlet primObject = {};\nlet idx = 0;\nlet hid = 0;\nlet curComp;\n\nfunction esc(unsafe) {\n  return String(unsafe)\n    .replace(/&/g, '&amp;')\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n    .replace(/\"/g, '&quot;')\n    .replace(/'/g, '&#039;');\n}\nconst styleToString = (style) => {\n  return Object.keys(style).reduce(\n    (acc, key) =>\n      acc +\n      key\n        .split(/(?=[A-Z])/)\n        .join('-')\n        .toLowerCase() +\n      ':' +\n      style[key] +\n      ';',\n    ''\n  );\n};\n\nexport function _render(fn) {\n  const res = fn();\n  const elem = document.createElement('div');\n  elem.innerHTML = res;\n  diff(elem, reElem);\n  if (reRender) {\n    const obj = Object.assign({}, primObject);\n    const arr = reElem.querySelectorAll('[c-f]');\n    let j = arr.length;\n    while (j--) {\n      const el = arr[j];\n      if (el.getAttribute) {\n        const attr = el.getAttribute('c-f');\n        if (obj[attr]) obj[attr] = undefined;\n      }\n    }\n    for (const key in obj) {\n      if (obj[key]) cleanEffect(obj[key]);\n    }\n  }\n  reRender = fn;\n  let i = fno.length;\n  while (i--) {\n    const obj = fno[i];\n    const value = obj.value;\n    const key = obj.key.toLowerCase();\n    if (key !== 'ref') {\n      const $ = reElem.querySelector(`[c-${key}=\"${i}\"]`);\n      if ($) {\n        if (typeof value === 'object') {\n          for (const s in value) $[key][s] = value[s];\n        } else {\n          $[key] = value;\n        }\n      }\n    }\n  }\n  idx = 0;\n  fno = [];\n}\n\nexport function html(ret) {\n  const subs = [].slice.call(arguments, 1);\n  return ret.reduce((start, end, no) => {\n    let val = subs[no - 1];\n    if (val === null || val === undefined) val = '';\n    if (Array.isArray(val)) val = val.join('');\n    const type = typeof val;\n    if (type === 'function' || type === 'boolean' || type === 'object') {\n      const arr = start.match(/[^ ]+/g);\n      const value = val;\n      const key = (arr[arr.length - 1] || '').replace(/=|\"/g, '').toLowerCase();\n      if (!key.includes('>') && !key.includes('<')) {\n        const id = idx++;\n        const attr = `c-${key}=\"${id}`;\n        if (key === 'ref') {\n          val.ref = () => document.querySelector(`[${attr}\"]`);\n        }\n        fno[id] = { key, value };\n        if (type !== 'function') rep[`${attr}\"`] = { key, value };\n        start = arr.slice(0, -1).join(' ') + ` ${attr}`;\n      }\n      val = '';\n    }\n    return start + String(val) + end;\n  });\n}\n\nexport function renderToString(fn) {\n  return (typeof fn === 'string' ? fn : fn()).replace(/ c-.*=\"\\d+\"/g, (a) => {\n    const arr = (a || '').split(' ');\n    let str = '';\n    for (let i = 0; i < arr.length; i++) {\n      const ret = rep[arr[i]];\n      if (ret) {\n        const { key, value } = ret;\n        const type = typeof value;\n        if (type === 'object' && key !== 'ref') {\n          str += ` ${key}=\"${styleToString(value)}\"`;\n        }\n        if (value === true) str += ` ${key}`;\n      }\n    }\n    return str;\n  });\n}\n\nexport function render(fn, elem) {\n  reRender = undefined;\n  fno = [];\n  idx = 0;\n  hid = 0;\n  reElem = elem;\n  _render(fn);\n}\nexport const comp = (fn) => {\n  const id = hid++;\n  const hook = (__C.hook = { i: 0, e: [], y: [], s: [] });\n  function __C(p) {\n    curComp = __C;\n    hook.i = 0;\n    let res = fn(p === undefined ? {} : p);\n    if (typeof res === 'string') {\n      if (!/<.*>/.test(res)) res = `<notag>${res}</notag>`;\n      res = res.replace(/>/, ` c-f=\"${id}\">`);\n      primObject[`${id}`] = curComp;\n    }\n    if (hook.e.length) setTimeout(() => hook.e.splice(0).forEach(invoveEffect));\n    hook.y.splice(0).forEach(invoveEffect);\n    return res;\n  }\n  return __C;\n};\n\n// useState\nexport function useState(value) {\n  const { s, i } = curComp.hook;\n  const val = s[i] === undefined ? value : s[i].val;\n  if (i >= s.length) s.push({ val });\n  curComp.hook.i++;\n  return [\n    val,\n    (newVal) => {\n      s[i].val = typeof newVal === 'function' ? newVal(val) : newVal;\n      _render(reRender);\n    },\n  ];\n}\n\nconst hasChange = (old, next) =>\n  !old || old.length !== next.length || next.some((dep, x) => dep !== old[x]);\n\nfunction runCleanup(effect) {\n  if (typeof effect.clean === 'function') {\n    effect.clean();\n    effect.clean = undefined;\n  }\n}\n\nfunction invoveEffect(effect) {\n  runCleanup(effect);\n  effect.clean = effect.val();\n}\n\nconst cleanEffect = (c) => {\n  if (c.hook && c.hook.s) {\n    setTimeout(\n      c.hook.s.forEach((effect) => {\n        runCleanup(effect);\n        effect.sync = true;\n      })\n    );\n  }\n};\n\nconst buildEffect = (status) => (val, deps) => {\n  if (!reElem) return;\n  const { i, s, e, y } = curComp.hook;\n  const isOk = i >= s.length;\n  if (isOk) s[i] = { deps, val, sync: false };\n  if (isOk || s[i].sync || hasChange(s[i].deps, deps)) {\n    (status ? e : y).push(s[i]);\n  }\n  s[i].val = val;\n  s[i].deps = deps;\n  s[i].sync = false;\n  curComp.hook.i++;\n};\n\n// useEffect\nexport const useEffect = buildEffect(true);\n\n// useLayoutEffect\nexport const useLayoutEffect = buildEffect(false);\n\n// useReducer\nexport function useReducer(reducer, init, initLazy) {\n  const arr = useState(initLazy !== undefined ? initLazy(init) : init);\n  return [\n    arr[0],\n    (action) => {\n      arr[1](reducer(arr[0], action));\n    },\n  ];\n}\n\n// useMemo\nexport function useMemo(fn, deps) {\n  if (!reElem) return fn();\n  const { i, s } = curComp.hook;\n  if (i >= s.length || hasChange(s[i].deps, deps)) {\n    s[i] = { val: fn(), deps };\n  }\n  curComp.hook.i++;\n  return s[i].val;\n}\n\n// useCallback\nexport const useCallback = (cb, deps) => useMemo(() => (p) => cb(p), deps);\n\n// useRef\nexport const useRef = (current) =>\n  useMemo(() => ({ current, ref: () => current }), []);\n\n// createContext\nexport const createContext = (init) => {\n  let value;\n  return {\n    Provider(newVal, fn) {\n      value = newVal || init;\n      return fn();\n    },\n    v: () => value,\n  };\n};\n\n// useContext\nexport const useContext = (c) => {\n  return c.v();\n};\n\n// CREDIT & ORIGINAL https://github.com/developit/vhtml\n// Add event, ref and style as object.\nconst dangerHTML = 'dangerouslySetInnerHTML';\nexport function h(tag, attr) {\n  const args = [].slice.call(arguments, 2);\n  const arr = [];\n  let str = '';\n  attr = attr || {};\n  for (let i = args.length; i--; ) {\n    arr.push(typeof args[i] === 'number' ? String(args[i]) : args[i]);\n  }\n  if (typeof tag === 'function') {\n    attr.children = arr.reverse();\n    return tag(attr);\n  }\n  if (tag) {\n    str += `<${tag}`;\n    if (attr) {\n      for (let k in attr) {\n        if (k !== 'children') {\n          let val = attr[k];\n          const type = typeof val;\n          if (type === 'function' || type === 'boolean' || type === 'object') {\n            const value = val;\n            const key = k.toLowerCase();\n            const id = idx++;\n            if (key === 'ref') {\n              val.ref = () => document.querySelector(`[c-${id}=\"${id}\"]`);\n            }\n            fno[id] = { key, value };\n            k = `c-${key}`;\n            val = id;\n            if (type !== 'function') rep[`${k}=\"${val}\"`] = { key, value };\n          }\n          if (\n            val !== undefined &&\n            val !== false &&\n            val !== null &&\n            k !== dangerHTML\n          ) {\n            str += ` ${k}=\"${esc(val)}\"`;\n          }\n        }\n      }\n    }\n    str += '>';\n  }\n  if (\n    [\n      'area',\n      'base',\n      'br',\n      'col',\n      'command',\n      'embed',\n      'hr',\n      'img',\n      'input',\n      'keygen',\n      'link',\n      'meta',\n      'param',\n      'source',\n      'track',\n      'wbr',\n    ].indexOf(tag) === -1\n  ) {\n    if (attr[dangerHTML]) {\n      str += attr[dangerHTML].__html;\n    } else {\n      for (let i = arr.length; i--; ) {\n        const child = Array.isArray(arr[i]) ? arr[i].join('') : arr[i];\n        if (typeof child === 'string') {\n          str += child[0] !== '<' ? esc(child) : child;\n        }\n      }\n    }\n    str += tag ? `</${tag}>` : '';\n  }\n  return str;\n}\n\nexport const Fragment = ({ children }) => h(null, null, children);\n"],"names":["isVanicAttr","a","getAttr","node","attr","getAttribute","getNodeContent","childNodes","length","textContent","diff","template","elem","domNodes","Array","prototype","slice","call","templateNodes","count","parentNode","removeChild","forEach","index","attributes","i","len","tpl","name","nm","setAttribute","dom","nodeType","tagName","id","src","replaceChild","cloneNode","templateContent","innerHTML","fragment","document","createDocumentFragment","appendChild","reRender","reElem","curComp","fno","primObject","idx","hid","_render","fn","res","createElement","key","obj","Object","assign","arr","querySelectorAll","j","el","cleanEffect","value","toLowerCase","$","querySelector","s","useState","hook","val","push","newVal","hasChange","old","next","some","dep","x","runCleanup","effect","clean","undefined","invoveEffect","c","setTimeout","sync","status","buildEffect","deps","e","y","isOk","useEffect","useLayoutEffect","useMemo","__C","p","test","replace","concat","splice","init","Provider","v","ret","subs","arguments","reduce","start","end","no","type","isArray","join","match","includes","ref","String","cb","reducer","initLazy","action","current"],"mappings":"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"}