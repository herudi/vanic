{"version":3,"file":"index.min.js","sources":["../src/diff.js","../src/index.js"],"sourcesContent":["// FROM: https://gomakethings.com/dom-diffing-with-vanilla-js\n\nfunction getAttr(node, attr) {\n  return node.getAttribute ? node.getAttribute(attr) : '';\n}\nfunction getNodeContent(node, attr) {\n  if (attr) {\n    if (attr in node && typeof node[attr] === 'string') {\n      if (attr !== 'href') return node[attr];\n    }\n    return getAttr(node, attr);\n  }\n  if (node.childNodes && node.childNodes.length > 0) return null;\n  return node.textContent;\n}\n\nexport function diff(template, elem) {\n  const domNodes = elem.childNodes;\n  const templateNodes = template.childNodes;\n  let count = domNodes.length - templateNodes.length;\n  if (count > 0) {\n    for (; count > 0; count--) {\n      domNodes[domNodes.length - count].parentNode.removeChild(\n        domNodes[domNodes.length - count]\n      );\n    }\n  }\n  templateNodes.forEach((node, index) => {\n    if (!domNodes[index]) {\n      elem.appendChild(node.cloneNode(true));\n      return;\n    }\n    if (node.attributes && node.attributes.length) {\n      let i = 0;\n      const len = node.attributes.length;\n      while (i < len) {\n        const attr = node.attributes[i];\n        if (attr.name) {\n          const nm = attr.name;\n          const tpl = getNodeContent(node, nm);\n          const tplDom = getNodeContent(domNodes[index], nm);\n          if (tpl !== tplDom) {\n            if (nm in domNodes[index]) domNodes[index][nm] = tpl;\n            else domNodes[index].setAttribute?.(nm, tpl);\n          }\n        }\n        i++;\n      }\n    }\n    if (\n      node.nodeType !== domNodes[index].nodeType ||\n      node.tagName !== domNodes[index].tagName ||\n      getAttr(node, 'style') !== getAttr(domNodes[index], 'style')\n    ) {\n      domNodes[index].parentNode.replaceChild(\n        node.cloneNode(true),\n        domNodes[index]\n      );\n      return;\n    }\n    const templateContent = getNodeContent(node);\n    if (\n      templateContent &&\n      templateContent !== getNodeContent(domNodes[index])\n    ) {\n      domNodes[index].textContent = templateContent;\n    }\n    if (domNodes[index].childNodes.length > 0 && node.childNodes.length < 1) {\n      domNodes[index].innerHTML = '';\n      return;\n    }\n    if (domNodes[index].childNodes.length < 1 && node.childNodes.length > 0) {\n      const fragment = document.createDocumentFragment();\n      diff(node, fragment);\n      domNodes[index].appendChild(fragment);\n      return;\n    }\n    if (node.childNodes.length > 0) {\n      diff(node, domNodes[index]);\n    }\n  });\n}\n","import { diff } from './diff.js';\n\nlet reRender;\nlet reElem;\nlet fno = [];\nlet idx = 0;\nlet cid = 0;\nlet fidx = 0;\nlet firsts = [];\nlet lasts = [];\nlet curHook;\nlet curComp = {};\nconst dangerHTML = 'dangerouslySetInnerHTML';\nconst isFunc = (val) => typeof val === 'function';\nconst getSelector = (key, id) => reElem.querySelector(`[c-${key}=\"${id}\"]`);\nconst hasChange = (old, next) => !old || next.some((dep, x) => dep !== old[x]);\nconst hasContext = () => curHook && curHook.t.length;\n\nfunction runEffect(hook) {\n  if (hook) {\n    hook.y.splice(0).forEach(invokeEffect);\n    if (hook.e.length) setTimeout(() => hook.e.splice(0).forEach(invokeEffect));\n  }\n}\n\nexport function isValidElement(elem) {\n  return typeof elem === 'object' && elem.__c && elem.comp && elem.props;\n}\n\nexport function renderToString(child) {\n  if (isFunc(child)) child = child();\n  if (typeof child !== 'object' || child === null) return child;\n  const toArray = (res) => {\n    const arr = [];\n    for (let i = 0; i < res.length; i++) {\n      arr.push(renderToString(res[i]));\n    }\n    if (hasContext()) curHook.t = [];\n    return arr.flat().join('');\n  };\n  if (Array.isArray(child)) return toArray(child);\n  if (!child.__c) return child;\n  const res = comp(child.comp)(child.props);\n  if (res.__c) return renderToString(res);\n  if (Array.isArray(res)) return toArray(res);\n  return res;\n}\nfunction _render(fn) {\n  const res = comp(fn.comp ? fn.comp : fn)(fn.props || {});\n  const elem = document.createElement('div');\n  elem.innerHTML = res;\n  diff(elem, reElem);\n  fno.forEach((o, i) => {\n    const { key, value } = o;\n    if (key !== 'ref') {\n      const $ = getSelector(key, i);\n      if ($) $[key] = value;\n    }\n  });\n  const mapFirsts = firsts.map((el) => el.c);\n  lasts.forEach((o) => {\n    if (mapFirsts.indexOf(o.c) === -1 && curComp[o.c]) {\n      curComp[o.c].s.forEach((e) => runCleanup(e, true));\n      curComp[o.c] = void 0;\n    }\n  });\n  firsts.forEach((o) => {\n    runEffect(curComp[o.c]);\n    o.fn.i = 0;\n  });\n  lasts = firsts;\n  firsts = [];\n  fno = [];\n  idx = 0;\n  reRender = fn;\n}\n\nfunction runCleanup(effect, force) {\n  if (isFunc(effect.c)) {\n    effect.c();\n    effect.c = undefined;\n    effect.f = force;\n  }\n}\nfunction invokeEffect(effect) {\n  runCleanup(effect);\n  effect.c = effect.v();\n}\n\nexport function render(fn, elem) {\n  curHook = undefined;\n  reRender = undefined;\n  curComp = {};\n  lasts = [];\n  firsts = [];\n  fno = [];\n  idx = 0;\n  cid = 0;\n  fidx = 0;\n  reElem = elem;\n  _render(fn);\n}\n\nconst buildCallback = (status, isMemo) => (val, deps) => {\n  if (!reElem) return isMemo ? val() : void 0;\n  const { i, s, e, y } = curHook;\n  // skip every render.\n  if (!deps) deps = s.map((el) => el.st).filter((el) => el !== undefined);\n  const isFirst = i >= s.length;\n  if (isFirst) s[i] = { d: deps, v: val, f: false };\n  if (isFirst || s[i].f || hasChange(s[i].d, deps)) {\n    if (isMemo) s[i] = { v: val(), d: deps };\n    else (status ? e : y).push(s[i]);\n  }\n  curHook.i++;\n  if (isMemo) return s[i].v;\n  s[i].v = val;\n  s[i].d = deps;\n  s[i].f = false;\n};\n\n// useState\nexport function useState(value) {\n  const { s, i } = curHook;\n  const st = s[i] === undefined ? value : s[i].st;\n  if (i >= s.length) s.push({ st });\n  curHook.i++;\n  return [\n    st,\n    (newVal) => {\n      s[i].st = isFunc(newVal) ? newVal(st) : newVal;\n      _render(reRender);\n    },\n    () => s[i].st,\n  ];\n}\n\n// useReducer\nexport function useReducer(reducer, init, initLazy) {\n  const arr = useState(initLazy !== undefined ? initLazy(init) : init);\n  return [arr[0], (action) => arr[1](reducer(arr[0], action))];\n}\n\n// useEffect\nexport const useEffect = buildCallback(1);\n\n// useLayoutEffect\nexport const useLayoutEffect = buildCallback(0);\n\n// useMemo\nexport const useMemo = buildCallback(1, 1);\n\n// useCallback\nexport const useCallback = (cb, deps) => useMemo(() => cb, deps);\n\n// useRef\nexport const useRef = (current) =>\n  useMemo(() => ({ current, ref: () => current }), []);\n\n// createContext\nexport const createContext = (init) => {\n  const i = cid++;\n  return {\n    Provider({ value, children }) {\n      if (curHook) curHook.t[i] = value !== undefined ? value : init;\n      return children;\n    },\n    i,\n  };\n};\n\n// useContext\nexport function useContext(ctx) {\n  return curHook ? curHook.t[ctx.i] : void 0;\n}\n\nfunction initFunc(fn) {\n  if (fn.i === void 0) {\n    fn.i = 0;\n    fn.m = fidx++;\n  }\n}\n\nexport function comp(fn) {\n  initFunc(fn);\n  const { i, m } = fn;\n  const c = '' + m + (fn.name || fn.toString().length) + i;\n  const init = curComp[c] || { s: [], i: 0, e: [], y: [], t: [] };\n  fn.i++;\n  return (p) => {\n    if (hasContext()) init.t = curHook.t;\n    curHook = init;\n    init.i = 0;\n    const res = renderToString(fn(p === undefined ? {} : p));\n    if (!curComp[c]) curComp[c] = init;\n    firsts.push({ c, fn });\n    return res;\n  };\n}\n\nexport function html(ret) {\n  const subs = [].slice.call(arguments, 1);\n  return ret.reduce((start, end, no) => {\n    let val = subs[no - 1];\n    if (val === null || val === undefined) val = '';\n    if (Array.isArray(val)) val = val.join('');\n    const type = typeof val;\n    if (type === 'function' || type === 'boolean' || type === 'object') {\n      const arr = start.match(/[^ ]+/g) || [];\n      const value = val;\n      const key = (arr[arr.length - 1] || '').replace(/=|\"/g, '').toLowerCase();\n      const id = idx++;\n      const attr = `c-${key}=\"${id}`;\n      if (key === 'ref') {\n        val.ref = () => reElem.querySelector(`[${attr}\"]`);\n      }\n      fno[id] = { key, value };\n      start = arr.slice(0, -1).join(' ') + ` ${attr}`;\n      val = '';\n    }\n    return start + String(val) + end;\n  });\n}\n\nexport function h(name, props) {\n  props = props || {};\n  if (!name) return '';\n  const children = [].slice\n    .call(arguments, 2)\n    .map((el) => (typeof el === 'number' ? String(el) : el))\n    .filter(Boolean);\n  if (isFunc(name)) {\n    props.children = children;\n    initFunc(name);\n    return { comp: name, props, __c: true };\n  }\n  let str = `<${name}`;\n  for (let k in props) {\n    let val = props[k];\n    if (reElem && (val === undefined || val === null)) val = '';\n    if (\n      val !== undefined &&\n      val !== null &&\n      k !== dangerHTML &&\n      k !== 'children'\n    ) {\n      const type = typeof val;\n      if (type === 'function' || type === 'boolean' || type === 'object') {\n        const value = val;\n        const key = k.toLowerCase();\n        if (type === 'object' && key !== 'ref') {\n          str += ` ${k}=\"${Object.keys(val).reduce(\n            (a, b) =>\n              a +\n              b\n                .split(/(?=[A-Z])/)\n                .join('-')\n                .toLowerCase() +\n              ':' +\n              (typeof val[b] === 'number' ? val[b] + 'px' : val[b]) +\n              ';',\n            ''\n          )}\"`;\n        } else if (reElem) {\n          const id = idx++;\n          if (key === 'ref') {\n            val.ref = () => getSelector(key, id);\n          }\n          fno[id] = { key, value };\n          str += ` c-${key}=\"${id}\"`;\n        } else if (val === true) str += ` ${k}`;\n        else if (val === false) str += '';\n      } else str += ` ${k}=\"${val}\"`;\n    }\n  }\n  str += '>';\n  if (\n    /area|base|br|col|embed|hr|img|input|keygen|link|meta|param|source|track|wbr/.test(\n      name\n    )\n  ) {\n    return str;\n  }\n  if (props[dangerHTML]) {\n    str += props[dangerHTML].__html;\n  } else {\n    for (let i = 0; i < children.length; i++) {\n      const child = renderToString(children[i]);\n      if (typeof child === 'string') str += child;\n    }\n  }\n  return (str += name ? `</${name}>` : '');\n}\n\nexport const Fragment = ({ children }) => children;\n"],"names":["getAttr","node","attr","getAttribute","getNodeContent","childNodes","length","textContent","diff","template","elem","domNodes","templateNodes","count","parentNode","removeChild","forEach","index","attributes","i","len","name","_domNodes$index$setAt","_domNodes$index","nm","tpl","setAttribute","call","nodeType","tagName","templateContent","innerHTML","fragment","document","createDocumentFragment","appendChild","replaceChild","cloneNode","reRender","reElem","curHook","fno","idx","fidx","firsts","lasts","curComp","isFunc","val","hasContext","t","renderToString","child","toArray","res","arr","push","flat","join","Array","isArray","__c","comp","props","_render","fn","createElement","o","key","value","$","id","querySelector","concat","getSelector","mapFirsts","map","el","c","indexOf","s","e","runCleanup","hook","y","splice","invokeEffect","setTimeout","effect","force","undefined","f","v","buildCallback","status","isMemo","deps","_curHook","st","filter","old","next","isFirst","d","some","dep","x","useState","_curHook2","newVal","useEffect","useLayoutEffect","useMemo","m","initFunc","toString","init","p","ret","subs","slice","arguments","reduce","start","end","no","type","match","replace","toLowerCase","ref","String","cb","reducer","initLazy","action","current"],"mappings":"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"}